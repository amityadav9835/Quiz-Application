{% extends "quiz_app/home.html" %}
{% block title %}{{ quiz.title }} - Your Answers{% endblock %}

{% block content %}
<div class="container mt-5">
  <h2 class="text-center mb-4">{{ quiz.title }} - Your Answers</h2>

  <ol class="list-group list-group-numbered">
    {% for item in question_data %}
    <li class="list-group-item">
      <p><strong>Q{{ forloop.counter }}:</strong> {{ item.question.text }}</p>

      <ul class="mb-2">
        <li {% if item.selected == 'A' %}class="fw-bold text-primary"{% endif %}>A: {{ item.question.option_a }}</li>
        <li {% if item.selected == 'B' %}class="fw-bold text-primary"{% endif %}>B: {{ item.question.option_b }}</li>
        <li {% if item.selected == 'C' %}class="fw-bold text-primary"{% endif %}>C: {{ item.question.option_c }}</li>
        <li {% if item.selected == 'D' %}class="fw-bold text-primary"{% endif %}>D: {{ item.question.option_d }}</li>
      </ul>

      <p>
        <strong>Your Answer:</strong>
        Option {{ item.selected|default:"Not answered" }}
        {% if item.selected %}
          {% if item.is_correct %}
            ✅ Correct
          {% else %}
            ❌ Incorrect
          {% endif %}
        {% endif %}
      </p>

      <p class="text-success"><strong>Correct Answer:</strong> Option {{ item.question.correct_option }}</p>
    </li>
    {% endfor %}
  </ol>

  <div class="text-center mt-4">
    <a href="{% url 'quiz_summary' %}" class="btn btn-secondary">Back to Summary</a>
  </div>
</div>
{% endblock %}
